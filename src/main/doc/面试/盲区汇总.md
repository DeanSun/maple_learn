# spring
1. springboot 启动流程
   Springboot的启动，主要创建了配置环境(environment)、事件监听(listeners)、应用上下文(applicationContext)，并基于以上条件，在容器中开始实例化我们需要的Bean
2. spring事务实现机制
   spring事务有两种方式：显示手动提交方式和隐式自动提交。手动提交自然不用说了，就是人为控制事务。隐式自动提交采用的是aop切面动态代理实现的。我个人理解就是把手动提交那几个代码以切面方式进行实现了。
3. 对spring-alibaba了解吗？都了解哪些组件

4.  springboot controller是单例的嘛，为什么要关注单例？

# redis
1. redis 基本数据类型
   Redis支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合）及zset(sorted set：有序集合)。
2. redis是单线程还是多线程
   redis4.0已经有了多线程的概念，但是默认是关闭的。并且redis多线程跟membercache是不同的，redis作者也强调，redis的单线程的处理能力很强，没有必要使用多线程。之所以加入了多线程是为了用来处理删除等速度较慢的指令。
   redis之所以速度很快是因为底层使用的是IO多路复用，也就是reactor模型。这种模型跟java nio，linux epoll/poll的IO思路是一样的。select+轮循。同一个线程可以响应多个IO事件，异步非阻塞。多路指的是多个网络请求，复用指的就是同一个线程。
   而且redis是内存式的，并且数据结构简单，也是它速度快的原因。

# 并发
1. 多个sync嵌套是程序怎么进行区分
   
2. 同步标记跟lock之间的区别
   <table>
   <thead>
   <tr>
   <td width=100></td>
   <td>sync</td>
   <td>lock</td>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>存在层次</td>
   <td>java关键字，jvm层面</td>
   <td>是一个接口</td>
   </tr>
   <tr>
   <td>锁的释放</td>
   <td>程序执行完释放锁;发生异常jvm释放锁</td>
   <td>在finally中必须释放锁，否则容易造成死锁的情况</td>
   </tr>
   <td>锁的获取</td>
   <td>A获取，B等待。A阻塞，B一直等待</td>
   <td>有多种获取锁的方式，尝试获取锁，有公平和不公平，有共享和独享。不同的锁实现AQS的方式不同</td>
   </tr>
   <td>锁状态</td>
   <td>无法判定</td>
   <td>可以判定</td>
   <tr>
   <td>锁类型</td>
   <td>可重入，不响应中断，非公平锁</td>
   <td>可冲入，可判断，公平/非公平（二者皆可）</td>
   </tr>
   <tr>
   <td>性能</td>
   <td>少量同步</td>
   <td>大量同步</td>
   </tr>
   </tbody>
   </table>

# 分布式                                   
1. cap原理
   Consistency: Every read receives the most recent write or an error
   一致性：每次读取都会收到最新的写入或错误
   Availability: Every request receives a (non-error) response, without the guarantee that it contains the most recent write
   可用性：每个请求都会收到一个（非错误）响应，但不能保证它包含最新的写入
   Partition tolerance: The system continues to operate despite an arbitrary number of messages being dropped (or delayed) by the network between nodes
   分区容错：尽管节点之间的网络丢弃（或延迟）了任意数量的消息，但系统仍继续运行

# 系统设计
1. 让你设计一个抢购系统你怎么进行设计
   抢购系统的业务特点：一般是库存有限，ID购买有数量限制，倒计时售卖。
   购买的业务流程：查询商品详情->点击购买，库存校验->扣库存，创建订单->支付订单
   1) 查看商品详情
      倒计时开启售卖，时间主要是依赖于本地时间，但是会定时跟服务器进行时间同步
   2) 点击购买，库存校验
      
   3) 扣库存，创建订单
   4) 支付订单  
   
      参考:
      https://blog.csdn.net/libra_ts/article/details/85198469  
      https://zhuanlan.zhihu.com/p/73659339
   
# 数据库
1.  数据库中导致索引失效都有哪些情况？

2.  为什么不推荐使用外键
   优点：数据强一致性;ER图可靠易读。
   缺点：级联问题;增加数据库压力;死锁问题:高并发场景下很容易造成死锁;开发不方便
   总结：1)如果是单机并且并发不高的情况，不需要性能调优，或者不能使用程序保证数据的一致性和完整性，可以使用外键
        2)如果为了高并发，分布式，使系统性更优，更好维护，不要使用外键

# 设计模式
1. 开发商常用的设计模式都有那些？
   模板方法模式：经典使用就是AQS共享和非共享获取和释放锁的实现
   工厂方法模式：spring实例工厂的实现
   代理模式：最简单的应用就是代理类将所有其他模块业务方法的调用进行封装
   